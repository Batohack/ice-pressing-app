{"ast":null,"code":"// src/components/Login.js\nimport React,{useState}from'react';import{TextField,Button,Box,Typography,Container,Paper,Alert}from'@mui/material';import api from'../services/api';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const handleLogin=async()=>{try{const res=await api.post('/auth/login',{username,password});localStorage.setItem('token',res.data.token);// SAVE TOKEN\nnavigate('/');}catch(e){setError('Invalid username or password');}};return/*#__PURE__*/_jsx(Box,{sx:{bgcolor:'#1a3e72',minHeight:'100vh',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Container,{maxWidth:\"xs\",children:/*#__PURE__*/_jsxs(Paper,{elevation:10,sx:{p:4,borderRadius:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{fontWeight:700,color:'#1a3e72'},children:\"Ice Pressing\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Dry Cleaning \\u2013 Yaound\\xE9\"})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",fullWidth:true,label:\"Username\",value:username,onChange:e=>setUsername(e.target.value),sx:{mb:2}}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",fullWidth:true,label:\"Password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),sx:{mb:3}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",fullWidth:true,size:\"large\",onClick:handleLogin,children:\"Login\"})]})})});}","map":{"version":3,"names":["React","useState","TextField","Button","Box","Typography","Container","Paper","Alert","api","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","error","setError","navigate","handleLogin","res","post","localStorage","setItem","data","token","e","sx","bgcolor","minHeight","display","alignItems","justifyContent","children","maxWidth","elevation","p","borderRadius","textAlign","mb","variant","fontWeight","color","severity","margin","fullWidth","label","value","onChange","target","type","size","onClick"],"sources":["/home/batohack/FOMEKONG/ice-pressing-app/frontend/src/components/Login.js"],"sourcesContent":["// src/components/Login.js\nimport React, { useState } from 'react';\nimport { TextField, Button, Box, Typography, Container, Paper, Alert } from '@mui/material';\nimport api from '../services/api';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function Login() {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const handleLogin = async () => {\n    try {\n      const res = await api.post('/auth/login', { username, password });\n      localStorage.setItem('token', res.data.token);  // SAVE TOKEN\n      navigate('/');\n    } catch (e) {\n      setError('Invalid username or password');\n    }\n  };\n\n  return (\n    <Box sx={{\n      bgcolor: '#1a3e72',\n      minHeight: '100vh',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }}>\n      <Container maxWidth=\"xs\">\n        <Paper elevation={10} sx={{ p: 4, borderRadius: 3 }}>\n          <Box sx={{ textAlign: 'center', mb: 3 }}>\n            <Typography variant=\"h4\" sx={{ fontWeight: 700, color: '#1a3e72' }}>\n              Ice Pressing\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Dry Cleaning – Yaoundé\n            </Typography>\n          </Box>\n\n          {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\n\n          <TextField\n            margin=\"normal\" fullWidth label=\"Username\" value={username}\n            onChange={(e) => setUsername(e.target.value)} sx={{ mb: 2 }}\n          />\n          <TextField\n            margin=\"normal\" fullWidth label=\"Password\" type=\"password\"\n            value={password} onChange={(e) => setPassword(e.target.value)} sx={{ mb: 3 }}\n          />\n          <Button variant=\"contained\" fullWidth size=\"large\" onClick={handleLogin}>\n            Login\n          </Button>\n        </Paper>\n      </Container>\n    </Box>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}